[{"path":"https://usaid-mozambique.github.io/sonata/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 sonata authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://usaid-mozambique.github.io/sonata/articles/chamar-activos-e-recodificar.html","id":"anexar-pacotes-necessários","dir":"Articles","previous_headings":"","what":"Anexar pacotes necessários","title":"Cálculo dos Activos em TARV","text":"Primeiro, anexaremos os pacotes requiridos para chamada e manipulação dos dados de MozART 2.0.","code":"library(sonata) library(glamr) library(tidyverse)  # Se necessário, instale o `glamr` a partir do código abaixo # install.packages('glamr', repos = c('https://usaid-oha-si.r-universe.dev', 'https://cloud.r-project.org'))"},{"path":"https://usaid-mozambique.github.io/sonata/articles/chamar-activos-e-recodificar.html","id":"estabelecer-conexão-com-o-mozart-2-0","dir":"Articles","previous_headings":"","what":"Estabelecer conexão com o MozART 2.0","title":"Cálculo dos Activos em TARV","text":"Como descrito artigo Uso Seguro de Credenciais MozART 2.0 é possível carregar suas credenciais previamente encriptadas sem revelar seu script. Isto evita partilha não intencional desta informação sensível e o acesso não autorizado ao MozART 2.0.","code":"# Definir valor do usuário acct_dev <- \"mysql-example-user\"  # Carregar credenciais acct_db <- get_account(name = acct_dev)  # Criar uma ligação MozART 2.0 con <- mysql_connection(   db_name = acct_db$dbname,    db_user = acct_db$username,   db_pass = acct_db$password,    db_host = acct_db$host,    db_port = acct_db$port   )"},{"path":"https://usaid-mozambique.github.io/sonata/articles/chamar-activos-e-recodificar.html","id":"chamar-indicador-activos-em-tarv-de-mozart-2-0","dir":"Articles","previous_headings":"","what":"Chamar indicador “Activos em TARV” de MozART 2.0","title":"Cálculo dos Activos em TARV","text":"base de dados MozART 2.0 é composta por uma série de tabelas de dados ligadas entre si por chaves variáveis. Esta organização de dados, embora óptima para eficiência armazenamento, torna mais complexa tarefa de criar conjuntos de dados analíticos. O pacote sonata foi concebido para fornecer aos analistas um conjunto de funções fáceis de utilizar que reduzem necessidade de escrever ou adaptar chamadas R e SQL. calc_tx_active, que calcula e extrai uma lista de pacientes activos em TARV, é um exemplo. calc_tx_active traz 5 argumentos. 2 destes argumentos vêm sem valores predefinidos e requerem definição pelo utilizador, enquanto 3 têm valores pré-defindo que são modificáveis de acordo com necessidades da analista. O primeiro argumento requerido, “con”, é ligação activa ao MozART 2.0 ambiente R (exemplo abaixo também definido como “con”). O segundo argumento obrigatório, “enddate”, exige que o utilizador especifique o fecho período de avaliação, que será utilizado como referência para calcular os activos em TARV. O terceiro argumento, “defaulter_tolerance”, dá ao utilizador opção de definir um valor personalizado para o número de dias antes de um faltoso ser reclassificado como inactivo (ou “abandono”). O valor predefinido para este argumento é “28”, tal como recomendado nas diretrizes da OMS. O quarto e o quinto argumentos (“filter_by_location” e “location_uuid”) são argumentos concebidos para permitir ao utilizador consultar um conjunto de dados de uma unidade sanitária individual em vez de todo o conjunto de mais de 600 unidades sanitárias que contribuem com dados para o MozART 2.0. Na prática, uso destes argumentos são úteis para testar o código numa ligação em tempo real, uma vez que os resultados query são devolvidos mais rápido que se forem executados sobre toda base de dados. Quando filter_by_location é definido como “TRUE”, consulta será personalizada para ser executada numa única base de dados definida pelo utilizador argumento “location_uuid”. Observe abaixo que o location_uuid está definido como “e5f01eee-2392-49b4-a5bf-5cf593fc8f21”, que é o ID de local para o CS Merripo.","code":"location_meripo <- \"e5f01eee-2392-49b4-a5bf-5cf593fc8f21\"  df <- calc_tx_active(   con = con,   enddate = '2024-09-20',   defaulter_tolerance = 28, # valor por defeito   filter_by_location = TRUE,  # valor por defeito   location_uuid = location_meripo  # valor por defeito )"},{"path":"https://usaid-mozambique.github.io/sonata/articles/definir-credenciais.html","id":"carregar-dependências-de-pacotes","dir":"Articles","previous_headings":"","what":"Carregar dependências de pacotes","title":"Uso Seguro de Credenciais MozART 2.0","text":"Começaremos o trabalho anexando os pacotes necessários que o fluxo de trabalho exigirá. Estes incluem o pacote sonata e o pacote utilitário glamr da USAID.","code":"library(sonata) library(glamr)  # Se necessário, instale o `glamr` a partir do código abaixo # install.packages('glamr', repos = c('https://usaid-oha-si.r-universe.dev', 'https://cloud.r-project.org'))"},{"path":"https://usaid-mozambique.github.io/sonata/articles/definir-credenciais.html","id":"definir-credenciais-no-sistema-operativo-local","dir":"Articles","previous_headings":"","what":"Definir credenciais no sistema operativo local","title":"Uso Seguro de Credenciais MozART 2.0","text":"bloco de código abaixo, criaremos um valor de usuário (definido como “acct_dev”) e, em seguida, passaremos esse valor de usuário para o segundo bloco de código que iniciará ferramentas internas RStudio para guardar credenciais sistema operacional da máquina usuário. Ao executar função set_account, o usuário será solicitado definir o host MozART 2.0, porta, nome de usuário, senha e dbname. Uma vez definidas, essas credenciais podem ser carregadas na sessão RStudio sem serem visíveis código projeto. Esta abordagem minimiza possibilidade de partilha não intencional.","code":"# Definir um valor de usuário acct_dev <- \"mysql-example-user\"  # Definir credenciais no sistema operativo local set_account(name = acct_dev,              keys = c(\"host\", \"port\", \"username\", \"password\", \"dbname\"),              update = TRUE)  # Carregar credenciais acct_db <- get_account(name = acct_dev)"},{"path":"https://usaid-mozambique.github.io/sonata/articles/definir-credenciais.html","id":"carregar-credenciais-e-criar-uma-ligação-mozart-2-0","dir":"Articles","previous_headings":"","what":"Carregar credenciais e criar uma ligação MozART 2.0","title":"Uso Seguro de Credenciais MozART 2.0","text":"Tendo nossas credenciais encriptadas e guardadas na máquina local, iremos chamá-las de forma segura para o nosso ambiente R usando função get_account. De daí, utilizá-los-emos para estabelecer nossa conexão ao MozART 2.0. Parabéns! Você acaba de estebelecer um sistema seguro e eficiente para guardar e usar credenciais de MozART 2.0!","code":"# Definir valor do usuário acct_dev <- \"mysql-example-user\"  # Carregar credenciais acct_db <- get_account(name = acct_dev)  # Criar uma ligação MozART 2.0 con <- mysql_connection(   db_name = acct_db$dbname,    db_user = acct_db$username,   db_pass = acct_db$password,    db_host = acct_db$host,    db_port = acct_db$port   )"},{"path":"https://usaid-mozambique.github.io/sonata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joe Lara. Author, maintainer. Karishma Srikanth. Author. Baboyma Kagniniwa. Author. Timothy Essam. Author.","code":""},{"path":"https://usaid-mozambique.github.io/sonata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lara J, Srikanth K, Kagniniwa B, Essam T (2025). sonata: Extrair e Interagir com Dados MozART 2.0. R package version 1.0.0, https://usaid-mozambique.github.io/sonata/.","code":"@Manual{,   title = {sonata: Extrair e Interagir com Dados do MozART 2.0},   author = {Joe Lara and Karishma Srikanth and Baboyma Kagniniwa and Timothy Essam},   year = {2025},   note = {R package version 1.0.0},   url = {https://usaid-mozambique.github.io/sonata/}, }"},{"path":"https://usaid-mozambique.github.io/sonata/index.html","id":"sonata-","dir":"","previous_headings":"","what":"Extrair e Interagir com Dados do MozART 2.0","title":"Extrair e Interagir com Dados do MozART 2.0","text":"Extrair e interagir com dados MozART 2.0","code":""},{"path":"https://usaid-mozambique.github.io/sonata/index.html","id":"instalação","dir":"","previous_headings":"","what":"Instalação","title":"Extrair e Interagir com Dados do MozART 2.0","text":"sonata não está CRAN, então você terá que instalá-lo diretamente rOpenSci usando o código abaixo. Disclaimer: findings, interpretation, conclusions expressed herein authors necessarily reflect views United States Agency International Development. errors remain .","code":"# instalar via rOpenSci       install.packages(\"sonata\",                          repos = c('https://usaid-mozambique.r-universe.dev',                          https://cloud.r-project.org'))          # Anexar pacote       library(sonata)            # Listar funções do pacote       ls(\"package::sonata\")"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_active_consults.html","id":null,"dir":"Reference","previous_headings":"","what":"Query um quadro de dados com consultas clínicas para pacientes activos em TARV — calc_active_consults","title":"Query um quadro de dados com consultas clínicas para pacientes activos em TARV — calc_active_consults","text":"Query um quadro de dados com consultas clínicas para pacientes activos em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_active_consults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query um quadro de dados com consultas clínicas para pacientes activos em TARV — calc_active_consults","text":"","code":"calc_active_consults(con, patient_uuids)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_active_consults.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query um quadro de dados com consultas clínicas para pacientes activos em TARV — calc_active_consults","text":"con Ligação à base de dados MozART 2.0 patient_uuids Mm vector contendo os patient_uuid unicos dos pacientes activos em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_active_consults.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query um quadro de dados com consultas clínicas para pacientes activos em TARV — calc_active_consults","text":"calc_active_consults devolve um quadro de dados com consultas clínicas para pacientes activos em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_active_consults.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query um quadro de dados com consultas clínicas para pacientes activos em TARV — calc_active_consults","text":"","code":"if (FALSE) { # \\dontrun{   df <- calc_active_consults(           con,           patient_uuids = tx_uuids)} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_arv_pickups.html","id":null,"dir":"Reference","previous_headings":"","what":"Query estatísticas anónimas para levantamentos TARV — calc_arv_pickups","title":"Query estatísticas anónimas para levantamentos TARV — calc_arv_pickups","text":"Query estatísticas anónimas para levantamentos TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_arv_pickups.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query estatísticas anónimas para levantamentos TARV — calc_arv_pickups","text":"","code":"calc_arv_pickups(   con,   enddate,   arv_pickup_source = \"FILA\",   n_months = 12,   filter_by_location = FALSE,   location_uuid = \"4be5f1a9-832c-4717-be41-ef4b6311c0ef\" )"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_arv_pickups.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query estatísticas anónimas para levantamentos TARV — calc_arv_pickups","text":"con Ligação à base de dados MozART 2.0 enddate Data de fecho período (introduzir como “AAAA-MM-DD”) arv_pickup_source Fonte de levantamento de ARV. Opções são \"FILA\", \"Reception\", \"\". Default é \"FILA\" n_months Número de meses para retroceder partir da data de fecho período (enddate). Default é 12 meses filter_by_location Lógico. Se TRUE, o query corre sobre uma unidade sanitária específica.  Se FALSE,  o query corre sobre todas unidade sanitária contidas na base de dados location_uuid location_uuid da unidade sanitária filtrar quando filter_by_location é definido como TRUE","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_arv_pickups.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query estatísticas anónimas para levantamentos TARV — calc_arv_pickups","text":"Um quadro de dados contendo uma listagem individual dos levantamentos TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_arv_pickups.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query estatísticas anónimas para levantamentos TARV — calc_arv_pickups","text":"","code":"if (FALSE) { # \\dontrun{   df <- calc_arv_pickups(           con,           enddate = '2024-09-20',           n_months = 6,           arv_pickup_source = \"FILA\",           filter_by_location = TRUE,           location_uuid = location_meripo)} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_client_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Calcular a idade do cliente em anos — calc_client_age","title":"Calcular a idade do cliente em anos — calc_client_age","text":"Calcular idade cliente em anos","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_client_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calcular a idade do cliente em anos — calc_client_age","text":"","code":"calc_client_age(birth_date, ref_date = Sys.Date())"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_client_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calcular a idade do cliente em anos — calc_client_age","text":"birth_date Coluna quadro de dados utilizada para introduzir data de nascimento cliente (default = birthdate) ref_date Data de referência para calcular idade cliente (default = Sys.Date())","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_client_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calcular a idade do cliente em anos — calc_client_age","text":"Quadro de dados com idade cliente em anos","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_client_age.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calcular a idade do cliente em anos — calc_client_age","text":"","code":"if (FALSE) { # \\dontrun{   df <- calculate_age(df)} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_active.html","id":null,"dir":"Reference","previous_headings":"","what":"Query estatísticas anónimas para clientes activos em TARV — calc_tx_active","title":"Query estatísticas anónimas para clientes activos em TARV — calc_tx_active","text":"Query estatísticas anónimas para clientes activos em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_active.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query estatísticas anónimas para clientes activos em TARV — calc_tx_active","text":"","code":"calc_tx_active(   con,   enddate,   defaulter_tolerance = 28,   filter_by_location = FALSE,   location_uuid = \"4be5f1a9-832c-4717-be41-ef4b6311c0ef\" )"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_active.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query estatísticas anónimas para clientes activos em TARV — calc_tx_active","text":"con Ligação à base de dados MozART 2.0 enddate Data de fecho período (introduzir como “AAAA-MM-DD”) defaulter_tolerance Número de dias de tolerância antes dos faltosos serem considerados inactivos (abandonos) filter_by_location Lógico. Se TRUE, o query corre sobre uma unidade sanitária específica.  Se FALSE,  o query corre sobre todas unidade sanitária contidas na base de dados location_uuid location_uuid da unidade sanitária filtrar quando filter_by_location é definido como TRUE","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_active.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query estatísticas anónimas para clientes activos em TARV — calc_tx_active","text":"Um quadro de dados contendo uma listagem individual dos pacientes activos em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_active.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query estatísticas anónimas para clientes activos em TARV — calc_tx_active","text":"","code":"if (FALSE) { # \\dontrun{   df <- calc_tx_active(           con,           enddate = '2024-09-20',           defaulter_tolerance = 28,           filter_by_location = TRUE,           location_uuid = location_meripo)} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_new.html","id":null,"dir":"Reference","previous_headings":"","what":"Query estatísticas anónimas para clientes iniciados em TARV — calc_tx_new","title":"Query estatísticas anónimas para clientes iniciados em TARV — calc_tx_new","text":"Query estatísticas anónimas para clientes iniciados em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_new.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query estatísticas anónimas para clientes iniciados em TARV — calc_tx_new","text":"","code":"calc_tx_new(   con,   opendate,   enddate,   filter_by_location = FALSE,   location_uuid = \"4be5f1a9-832c-4717-be41-ef4b6311c0ef\" )"},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_new.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query estatísticas anónimas para clientes iniciados em TARV — calc_tx_new","text":"con Ligação à base de dados MozART 2.0 opendate Data de abertura período (introduzir como “AAAA-MM-DD”) enddate Data de fecho período (introduzir como “AAAA-MM-DD”) filter_by_location Lógico. Se TRUE, o query corre sobre uma unidade sanitária específica.  Se FALSE,  o query corre sobre todas unidade sanitária contidas na base de dados location_uuid location_uuid da unidade sanitária filtrar quando filter_by_location é definido como TRUE","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_new.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query estatísticas anónimas para clientes iniciados em TARV — calc_tx_new","text":"Um quadro de dados contendo uma listagem individual dos pacientes iniciados em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/calc_tx_new.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query estatísticas anónimas para clientes iniciados em TARV — calc_tx_new","text":"","code":"if (FALSE) { # \\dontrun{   df <- calc_tx_new(           con,           opendate = \"2024-06-21\",           enddate = \"2024-09-20\",           filter_by_location = TRUE,           location_uuid = location_meripo)} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_location_lookup.html","id":null,"dir":"Reference","previous_headings":"","what":"data_location_lookup — data_location_lookup","title":"data_location_lookup — data_location_lookup","text":"List indicators","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_location_lookup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"data_location_lookup — data_location_lookup","text":"","code":"data(data_location_lookup)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_location_lookup.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"data_location_lookup — data_location_lookup","text":"list variables included site list data_location_lookup location_uuid data_location_lookup datim_id data_location_lookup sisma_id data_location_lookup province data_location_lookup district data_location_lookup datim_name data_location_lookup mozart_name","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_observation_lookup.html","id":null,"dir":"Reference","previous_headings":"","what":"data_observation_lookup — data_observation_lookup","title":"data_observation_lookup — data_observation_lookup","text":"List indicators","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_observation_lookup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"data_observation_lookup — data_observation_lookup","text":"","code":"data(data_observation_lookup)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_observation_lookup.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"data_observation_lookup — data_observation_lookup","text":"list variables included site list data_observation_lookup concept_id data_observation_lookup concept_name","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_type_id_lookup.html","id":null,"dir":"Reference","previous_headings":"","what":"data_type_id_lookup — data_type_id_lookup","title":"data_type_id_lookup — data_type_id_lookup","text":"List indicators","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_type_id_lookup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"data_type_id_lookup — data_type_id_lookup","text":"","code":"data(data_type_id_lookup)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/data_type_id_lookup.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"data_type_id_lookup — data_type_id_lookup","text":"list variables included site list data_type_id_lookup id data_type_id_lookup table_name data_type_id_lookup column_name data_type_id_lookup id_type_lookup data_type_id_lookup id_type_desc data_type_id_lookup id_type_lookup_pt data_type_id_lookup notes","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_connection.html","id":null,"dir":"Reference","previous_headings":"","what":"Initiate duckdb connection — duck_connection","title":"Initiate duckdb connection — duck_connection","text":"Initiate duckdb connection","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_connection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initiate duckdb connection — duck_connection","text":"","code":"duck_connection(dbfile = \":memory:\", ...)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_connection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initiate duckdb connection — duck_connection","text":"dbfile database file ... test fix","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_stop.html","id":null,"dir":"Reference","previous_headings":"","what":"shutdown duckdb connection — duck_stop","title":"shutdown duckdb connection — duck_stop","text":"shutdown duckdb connection","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_stop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"shutdown duckdb connection — duck_stop","text":"","code":"duck_stop(dbfile = \":memory:\")"},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_stop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"shutdown duckdb connection — duck_stop","text":"dbfile database connection","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_tables.html","id":null,"dir":"Reference","previous_headings":"","what":"List Duck DB Tables — duck_tables","title":"List Duck DB Tables — duck_tables","text":"List Duck DB Tables","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_tables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Duck DB Tables — duck_tables","text":"","code":"duck_tables(conn)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/duck_tables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List Duck DB Tables — duck_tables","text":"conn database connection","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/fetch_active_uuid.html","id":null,"dir":"Reference","previous_headings":"","what":"Query um vector de patient_uuid deduplicado para pacientes activos no TARV — fetch_active_uuid","title":"Query um vector de patient_uuid deduplicado para pacientes activos no TARV — fetch_active_uuid","text":"Query um vector de patient_uuid deduplicado para pacientes activos TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/fetch_active_uuid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query um vector de patient_uuid deduplicado para pacientes activos no TARV — fetch_active_uuid","text":"","code":"fetch_active_uuid(   con,   enddate,   defaulter_tolerance = 28,   filter_by_location = FALSE,   location_uuid = \"4be5f1a9-832c-4717-be41-ef4b6311c0ef\" )"},{"path":"https://usaid-mozambique.github.io/sonata/reference/fetch_active_uuid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query um vector de patient_uuid deduplicado para pacientes activos no TARV — fetch_active_uuid","text":"con Ligação à base de dados MozART 2.0 enddate Data de fecho período (introduzir como “AAAA-MM-DD”) defaulter_tolerance Número de dias de tolerância antes dos faltosos serem considerados inactivos (abandonos) filter_by_location Lógico. Se TRUE, o query corre sobre uma unidade sanitária específica.  Se FALSE,  o query corre sobre todas unidade sanitária contidas na base de dados location_uuid location_uuid da unidade sanitária filtrar quando filter_by_location é definido como TRUE","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/fetch_active_uuid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query um vector de patient_uuid deduplicado para pacientes activos no TARV — fetch_active_uuid","text":"fetch_active_uuid devolve um vector contendo os patient_uuid unicos dos pacientes activos em TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/fetch_active_uuid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query um vector de patient_uuid deduplicado para pacientes activos no TARV — fetch_active_uuid","text":"","code":"if (FALSE) { # \\dontrun{   df <- fetch_active_uuid(           con,           enddate = '2024-09-20',           defaulter_tolerance = 28,           filter_by_location = TRUE,           location_uuid = location_meripo)} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/mysql_connection.html","id":null,"dir":"Reference","previous_headings":"","what":"MozART 2.0 Utilities — mysql_connection","title":"MozART 2.0 Utilities — mysql_connection","text":"MozART 2.0 Utilities","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/mysql_connection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MozART 2.0 Utilities — mysql_connection","text":"","code":"mysql_connection(   db_name,   db_user,   db_pass,   db_host = \"localhost\",   db_port = 3306 )"},{"path":"https://usaid-mozambique.github.io/sonata/reference/mysql_connection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MozART 2.0 Utilities — mysql_connection","text":"db_name Database name db_user Database user db_pass Database password db_host Database host db_port Database port","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/mysql_connection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MozART 2.0 Utilities — mysql_connection","text":"connection database","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/mysql_connection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"MozART 2.0 Utilities — mysql_connection","text":"","code":"if (FALSE) { # \\dontrun{   df <- mysql_connection()} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/process_recoding.html","id":null,"dir":"Reference","previous_headings":"","what":"Recodificar múltiplas variáveis definidas pelo utilizador — process_recoding","title":"Recodificar múltiplas variáveis definidas pelo utilizador — process_recoding","text":"Recodificar múltiplas variáveis definidas pelo utilizador","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/process_recoding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recodificar múltiplas variáveis definidas pelo utilizador — process_recoding","text":"","code":"process_recoding(   df,   columns_to_recode,   options = list(df_disp_mode = data_type_id_lookup, df_regimen = data_type_id_lookup,     df_form = data_type_id_lookup, df_location = data_location_lookup, age_column =     \"age\", sex_column = \"gender\") )"},{"path":"https://usaid-mozambique.github.io/sonata/reference/process_recoding.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recodificar múltiplas variáveis definidas pelo utilizador — process_recoding","text":"df Quadro de dados contendo variável recodificar columns_to_recode Vector de strings contendo os nomes das colunas recodificar options Lista de parâmetros opcionais para personalizar recodificação","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/process_recoding.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recodificar múltiplas variáveis definidas pelo utilizador — process_recoding","text":"process_recoding devolve um quadro de dados com colunas recodificadas","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/process_recoding.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Recodificar múltiplas variáveis definidas pelo utilizador — process_recoding","text":"","code":"if (FALSE) { # \\dontrun{   df <- process_recoding(           df = tx_active,           columns_to_recode = c(\"mode_dispensation_id\",                                 \"regimen_id\",                                 \"location_uuid\"))} # }"},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Recodificar idade — recode_age","title":"Recodificar idade — recode_age","text":"Recodificar idade","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recodificar idade — recode_age","text":"","code":"recode_age(df, age_column = \"age\")"},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recodificar idade — recode_age","text":"df Quadro de dados contendo variável recodificar age_column Variável quadro de dados introduzido contendo idade cliente","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recodificar idade — recode_age","text":"recode_age devolve um quadro de dados com coluna idade recodificada","code":""},{"path":[]},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_disp_mode.html","id":null,"dir":"Reference","previous_headings":"","what":"Recodificar modo de dispensa TARV — recode_disp_mode","title":"Recodificar modo de dispensa TARV — recode_disp_mode","text":"Recodificar modo de dispensa TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_disp_mode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recodificar modo de dispensa TARV — recode_disp_mode","text":"","code":"recode_disp_mode(df, df_disp_mode = data_type_id_lookup, keep_id = FALSE)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_disp_mode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recodificar modo de dispensa TARV — recode_disp_mode","text":"df Quadro de dados contendo variável recodificar df_disp_mode Objecto de tabela de pesquisa usado para recodificação keep_id Manter coluna regimen_id após recodificação (Logical T/F)","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_disp_mode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recodificar modo de dispensa TARV — recode_disp_mode","text":"recode_disp_mode devolve um quadro de dados com coluna regimen recodificada","code":""},{"path":[]},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_form.html","id":null,"dir":"Reference","previous_headings":"","what":"Recodificar formulario primario usado — recode_form","title":"Recodificar formulario primario usado — recode_form","text":"Recodificar formulario primario usado","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_form.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recodificar formulario primario usado — recode_form","text":"","code":"recode_form(df, df_form = data_type_id_lookup, keep_id = FALSE)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_form.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recodificar formulario primario usado — recode_form","text":"df Quadro de dados contendo variável recodificar df_form Objecto de tabela de pesquisa usado para recodificação keep_id Manter coluna regimen_id após recodificação (Logical T/F)","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_form.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recodificar formulario primario usado — recode_form","text":"recode_form devolve um quadro de dados com coluna regimen recodificada","code":""},{"path":[]},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_location.html","id":null,"dir":"Reference","previous_headings":"","what":"Recodificar location_uuid's — recode_location","title":"Recodificar location_uuid's — recode_location","text":"Recodificar location_uuid's","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recodificar location_uuid's — recode_location","text":"","code":"recode_location(df, df_location = data_location_lookup)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_location.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recodificar location_uuid's — recode_location","text":"df Quadro de dados contendo variável recodificar df_location Objecto de tabela de pesquisa usado para recodificação","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_location.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recodificar location_uuid's — recode_location","text":"recode_location devolve um quadro de dados com coluna location_uuid recodificada","code":""},{"path":[]},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_regimen.html","id":null,"dir":"Reference","previous_headings":"","what":"Recodificar regimen TARV — recode_regimen","title":"Recodificar regimen TARV — recode_regimen","text":"Recodificar regimen TARV","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_regimen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recodificar regimen TARV — recode_regimen","text":"","code":"recode_regimen(df, df_regimen = data_type_id_lookup, keep_id = FALSE)"},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_regimen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recodificar regimen TARV — recode_regimen","text":"df Quadro de dados contendo variável recodificar df_regimen Objecto de tabela de pesquisa usado para recodificação keep_id Manter coluna regimen_id após recodificação (Logical T/F)","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_regimen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recodificar regimen TARV — recode_regimen","text":"recode_regimen devolve um quadro de dados com coluna regimen recodificada","code":""},{"path":[]},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_sex.html","id":null,"dir":"Reference","previous_headings":"","what":"Recodificar sexo — recode_sex","title":"Recodificar sexo — recode_sex","text":"Recodificar sexo","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_sex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recodificar sexo — recode_sex","text":"","code":"recode_sex(df, sex_column = \"gender\")"},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_sex.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recodificar sexo — recode_sex","text":"df Quadro de dados contendo variável recodificar sex_column Variável quadro de dados introduzido contendo o sexo cliente","code":""},{"path":"https://usaid-mozambique.github.io/sonata/reference/recode_sex.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recodificar sexo — recode_sex","text":"recode_sex devolve um quadro de dados com coluna sexo recodificada","code":""},{"path":[]},{"path":"https://usaid-mozambique.github.io/sonata/reference/sonata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"sonata: Extrair e Interagir com Dados do MozART 2.0 — sonata-package","title":"sonata: Extrair e Interagir com Dados do MozART 2.0 — sonata-package","text":"Provides set utilities functions connecting, querying, analyzing data Mozambique MozART 2.0 database.","code":""},{"path":[]},{"path":"https://usaid-mozambique.github.io/sonata/reference/sonata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sonata: Extrair e Interagir com Dados do MozART 2.0 — sonata-package","text":"Maintainer: Joe Lara jlara@usaid.gov Authors: Karishma Srikanth ksrikanth@usaid.gov Baboyma Kagniniwa bkagniniwa@usaid.gov Timothy Essam tessam@usaid.gov","code":""},{"path":"https://usaid-mozambique.github.io/sonata/news/index.html","id":"sonata-100","dir":"Changelog","previous_headings":"","what":"sonata 1.0.0","title":"sonata 1.0.0","text":"adição de funções de pesquisa para consultas clinicas adição de funções de recodificação de variáveis","code":""},{"path":"https://usaid-mozambique.github.io/sonata/news/index.html","id":"sonata-020","dir":"Changelog","previous_headings":"","what":"sonata 0.2.0","title":"sonata 0.2.0","text":"tradução conteúdo da embalagem para português","code":""},{"path":"https://usaid-mozambique.github.io/sonata/news/index.html","id":"sonata-010","dir":"Changelog","previous_headings":"","what":"sonata 0.1.0","title":"sonata 0.1.0","text":"iniciação pacote com infraestrutura básica adição de utilidades para suportar ligação à base de dados adição de funções de pesquisa para novas e activas em TARV adição logótipo sonata hexadecimal","code":""}]
